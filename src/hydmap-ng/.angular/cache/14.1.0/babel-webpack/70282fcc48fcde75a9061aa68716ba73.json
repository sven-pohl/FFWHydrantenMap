{"ast":null,"code":"import { of } from 'rxjs';\nimport { catchError, map } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/google-maps\";\n\nfunction GmapsComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"google-map\", 1);\n    i0.ɵɵelementStart(2, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function GmapsComponent_div_0_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.zoomIn());\n    });\n    i0.ɵɵtext(3, \"Zoom in\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function GmapsComponent_div_0_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.zoomOut());\n    });\n    i0.ɵɵtext(5, \"Zoom out\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"zoom\", ctx_r0.zoom)(\"center\", ctx_r0.center)(\"options\", ctx_r0.options);\n  }\n}\n\nexport class GmapsComponent {\n  constructor(httpClient) {\n    this.zoom = 12;\n    this.center = {\n      lat: 40,\n      lng: -20\n    };\n    this.options = {\n      mapTypeId: 'hybrid',\n      zoomControl: false,\n      scrollwheel: false,\n      disableDoubleClickZoom: true,\n      maxZoom: 15,\n      minZoom: 8\n    };\n    this.apiLoaded = httpClient.jsonp('https://maps.googleapis.com/maps/api/js?key=YOUR_KEY_HERE', 'callback').pipe(map(() => true), catchError(() => of(false)));\n  }\n\n  ngOnInit() {\n    navigator.geolocation.getCurrentPosition(position => {\n      this.center = {\n        lat: position.coords.latitude,\n        lng: position.coords.longitude\n      };\n    });\n  }\n\n  zoomIn() {\n    if (this.zoom < this.options.maxZoom) this.zoom++;\n  }\n\n  zoomOut() {\n    if (this.zoom > this.options.minZoom) this.zoom--;\n  }\n\n}\n\nGmapsComponent.ɵfac = function GmapsComponent_Factory(t) {\n  return new (t || GmapsComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n};\n\nGmapsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: GmapsComponent,\n  selectors: [[\"app-gmaps\"]],\n  decls: 2,\n  vars: 3,\n  consts: [[4, \"ngIf\"], [\"height\", \"500px\", \"width\", \"100%\", 3, \"zoom\", \"center\", \"options\"], [3, \"click\"]],\n  template: function GmapsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, GmapsComponent_div_0_Template, 6, 3, \"div\", 0);\n      i0.ɵɵpipe(1, \"async\");\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.apiLoaded));\n    }\n  },\n  dependencies: [i2.NgIf, i3.GoogleMap, i2.AsyncPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJnbWFwcy5jb21wb25lbnQuc2FzcyJ9 */\"]\n});","map":{"version":3,"mappings":"AAEA,SAAqBA,EAArB,QAA+B,MAA/B;AACA,SAASC,UAAT,EAAqBC,GAArB,QAAgC,gBAAhC;;;;;;;;;;ICHAC;IACIA;IAGAA;IAAQA;MAAAA;MAAA;MAAA,OAASA,+BAAT;IAAiB,CAAjB;IAAmBA;IAAOA;IAClCA;IAAQA;MAAAA;MAAA;MAAA,OAASA,gCAAT;IAAkB,CAAlB;IAAoBA;IAAQA;;;;;IAJIA;IAAAA,mCAAa,QAAb,EAAaC,aAAb,EAAa,SAAb,EAAaA,cAAb;;;;ADU5C,OAAM,MAAOC,cAAP,CAAqB;EAczBC,YAAYC,UAAZ,EAAkC;IAZlC,YAAO,EAAP;IACA,cAAoC;MAACC,GAAG,EAAE,EAAN;MAAUC,GAAG,EAAE,CAAC;IAAhB,CAApC;IAEA,eAAkC;MAChCC,SAAS,EAAE,QADqB;MAEhCC,WAAW,EAAE,KAFmB;MAGhCC,WAAW,EAAE,KAHmB;MAIhCC,sBAAsB,EAAE,IAJQ;MAKhCC,OAAO,EAAE,EALuB;MAMhCC,OAAO,EAAE;IANuB,CAAlC;IAUE,KAAKC,SAAL,GAAiBT,UAAU,CAACU,KAAX,CAAiB,2DAAjB,EAA8E,UAA9E,EACZC,IADY,CAEXhB,GAAG,CAAC,MAAM,IAAP,CAFQ,EAGXD,UAAU,CAAC,MAAMD,EAAE,CAAC,KAAD,CAAT,CAHC,CAAjB;EAKD;;EAEDmB,QAAQ;IACNC,SAAS,CAACC,WAAV,CAAsBC,kBAAtB,CAA0CC,QAAD,IAAa;MACpD,KAAKC,MAAL,GAAc;QACZhB,GAAG,EAAEe,QAAQ,CAACE,MAAT,CAAgBC,QADT;QAEZjB,GAAG,EAAEc,QAAQ,CAACE,MAAT,CAAgBE;MAFT,CAAd;IAID,CALD;EAMD;;EAEDC,MAAM;IACJ,IAAI,KAAKC,IAAL,GAAY,KAAKC,OAAL,CAAahB,OAA7B,EAAsC,KAAKe,IAAL;EACvC;;EAEDE,OAAO;IACJ,IAAI,KAAKF,IAAL,GAAY,KAAKC,OAAL,CAAaf,OAA7B,EAAsC,KAAKc,IAAL;EACxC;;AArCwB;;;mBAAdxB,gBAAcF;AAAA;;;QAAdE;EAAc2B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCX3BjC;;;;;MAAMA","names":["of","catchError","map","i0","ctx_r0","GmapsComponent","constructor","httpClient","lat","lng","mapTypeId","zoomControl","scrollwheel","disableDoubleClickZoom","maxZoom","minZoom","apiLoaded","jsonp","pipe","ngOnInit","navigator","geolocation","getCurrentPosition","position","center","coords","latitude","longitude","zoomIn","zoom","options","zoomOut","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["G:\\projects\\projects\\private\\github\\FFWHydrantenMap\\src\\hydmap-ng\\src\\app\\gmaps\\gmaps.component.ts","G:\\projects\\projects\\private\\github\\FFWHydrantenMap\\src\\hydmap-ng\\src\\app\\gmaps\\gmaps.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable, of } from 'rxjs';\nimport { catchError, map } from 'rxjs/operators';\n\n\n@Component({\n  selector: 'app-gmaps',\n  templateUrl: './gmaps.component.html',\n  styleUrls: ['./gmaps.component.sass']\n})\nexport class GmapsComponent implements OnInit {\n  apiLoaded: Observable<boolean>;\n  zoom = 12\n  center: google.maps.LatLngLiteral = {lat: 40, lng: -20};\n\n  options: google.maps.MapOptions = {\n    mapTypeId: 'hybrid',\n    zoomControl: false,\n    scrollwheel: false,\n    disableDoubleClickZoom: true,\n    maxZoom: 15,\n    minZoom: 8,\n  }\n\n  constructor(httpClient: HttpClient) {\n    this.apiLoaded = httpClient.jsonp('https://maps.googleapis.com/maps/api/js?key=YOUR_KEY_HERE', 'callback')\n        .pipe(\n          map(() => true),\n          catchError(() => of(false)),\n        );\n  }\n\n  ngOnInit(): void {\n    navigator.geolocation.getCurrentPosition((position) => {\n      this.center = {\n        lat: position.coords.latitude,\n        lng: position.coords.longitude,\n      }\n    })\n  }\n\n  zoomIn() {\n    if (this.zoom < this.options.maxZoom) this.zoom++\n  }\n\n  zoomOut() {\n     if (this.zoom > this.options.minZoom) this.zoom--\n  }\n}\n","<div *ngIf=\"apiLoaded | async\">\n    <google-map height=\"500px\" width=\"100%\" [zoom]=\"zoom\" [center]=\"center\" [options]=\"options\"></google-map>\n\n    <!-- Use custom zoom buttons -->\n    <button (click)=\"zoomIn()\">Zoom in</button>\n    <button (click)=\"zoomOut()\">Zoom out</button>\n</div>"]},"metadata":{},"sourceType":"module"}